{% extends "app/layout.html" %}
{% load staticfiles %}
{% load compressed %}

{% block navbar%}
    <li><a href="./{{task_id}}">Results</a></li>
{% endblock%}

{% block head-scripts %}
    {% compressed_css 'blast-results' %}
    <script>
    var results_col_names = {{ results_col_names|safe }};
    var results_col_names_display = {{ results_col_names_display|safe }};
    var results_detail = {{ results_detail|safe }};
    var results_data = {{ results_data|safe }};
    var results_info = {{ results_info|safe }};
    var task_id = '{{ task_id }}';
    </script>
{% endblock %}

{% block content-fluid %}
<div id="result-container">
    <div id="top-side-by-side-container">
        <div id="query-graph-container" class="graph-container">
            <div class="graph-title-container">
                <span class="graph-title">Query Coverage Graph - <span id="query-canvas-name"></span></span>
            </div>
            <div class="graph-canvas-container">
                <canvas id="query-canvas"></canvas>
            </div>
        </div>
        <div id="subject-graph-container" class="graph-container">
            <div class="graph-title-container">
                <span class="graph-title">Subject Coverage Graph - <span id="subject-canvas-name"></span></span>
            </div>
            <div class="graph-canvas-container">
                <canvas id="subject-canvas"></canvas>
            </div>
        </div>
    </div>
    <div id="bottom-side-by-side-container">
        <div id="table-container">
            <table id="results-table" class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
                <thead><tr><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead>
                <tfoot><tr><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tr></tfoot>
            </table>
        </div>
        <div id="text-container">
            <ul class="nav nav-tabs" role="tablist">
                <li class="active"><a href="#text-report" role="tab" data-toggle="tab">BLAST Report</a></li>
                <li><a href="#fasta-sequences" role="tab" data-toggle="tab">FASTA Sequences</a></li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane fade in active" id="text-report"></div>
                <div class="tab-pane fade" id="fasta-sequences"></div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
    {% compressed_js 'blast-results' %}
{% endblock %}
